
----------------- Поток лексем ---------------------
01 tfi(si){rl;}
02 tfi(si,si){rl;}
04 tfi(ti,ti){
05 ti;
06 ti;
08 h(i){
09 al:{
10 rl;
11 }
12 d:{
13 i=ivl;
14 i=ivi(i,i);
15 ri;
16 }
17 }
18 rl;
19 }
21 tfi(ti,ti,ti){
22 ti;
23 i=(ivi)vi;
24 ri;
25 }
27 m{
28 si;
29 ti;
30 ti;
31 ti;
32 ti;
34 ovl;
36 ovl;
38 i=l;
39 i=l;
41 ovl;
42 i=i(l,l,l);
43 ovl;
44 ovi;
46 ovl;
47 i=i(l,l,l);
48 ovl;
49 ovi;
51 ovl;
52 i=i(l,l);
53 ovl;
54 ovi;
55 ovl;
56 i=l;
58 h(i){
59 al:{
60 ovl;
61 }
62 al:{
63 ovl;
64 h(i){
65 al:{
66 ovl;
67 i=i(l,l);
68 ovl;
69 ovi;
70 }
71 d:{
72 ovl;
73 }
74 }
75 }
76 d:{
77 ovl;
78 }
79 }
81 ovl;
82 }


-----Таблица лексем после преобразования в ПОЛИЗ (Сырая)

----------------- Поток лексем ---------------------
01 tfi(si){rl;}
02 tfi(si,si){rl;}
04 tfi(ti,ti){
05 ti;
06 ti;
08 h(i){
09 al:{
10 rl;
11 }
12 d:{
13 i=ilv;
14 i=iiiiv;
15 ri;
16 }
17 }
18 rl;
19 }
21 tfi(ti,ti,ti){
22 ti;
23 i=iiviv;
24 ri;
25 }
27 m{
28 si;
29 ti;
30 ti;
31 ti;
32 ti;
34 olv;
36 olv;
38 i=l;
39 i=l;
41 olv;
42 i=illl;
43 olv;
44 oiv;
46 olv;
47 i=illl;
48 olv;
49 oiv;
51 olv;
52 i=ill;
53 olv;
54 oiv;
55 olv;
56 i=l;
58 h(i){
59 al:{
60 olv;
61 }
62 al:{
63 olv;
64 h(i){
65 al:{
66 olv;
67 i=ill;
68 olv;
69 oiv;
70 }
71 d:{
72 olv;
73 }
74 }
75 }
76 d:{
77 olv;
78 }
79 }
81 olv;
82 }


----------------- Декодированная Польская запись (ПОЛИЗ) ---------------------
Номер строки | Выражение в ПОЛИЗ
------------------------------------------------------------------------------
01           | strtoint s return 0 ;
02           | stcmp s1 s2 return 0 ;
04           | power base exp 
05           | powerres ;
06           | powernextExp ;
08           | exp 
09           | 0 
10           | return 1 ;
11           | 12           | 13           | powernextExp = exp 1 - ;
14           | powerres = base power base powernextExp * ;
15           | return powerres ;
16           | 17           | 18           | return 0 ;
19           | 21           | mixer a b cc 
22           | mixerres ;
23           | mixerres = a b + cc * ;
24           | return mixerres ;
25           | 27           | 28           | status ;
29           | val ;
30           | key ;
31           | result ;
32           | check ;
34           | cout "=== HARDCORE TEST: START ===" < ;
36           | cout "Check Strings: (OK); :OK:; ->OK" < ;
38           | val = 10 ;
39           | key = 2 ;
41           | cout "Test 1: Simple Overflow" < ;
42           | result = mixer 100 28 1 ;
43           | cout "100 + 28 = 128 -> Expect -128:" < ;
44           | cout result < ;
46           | cout "Test 2: Multiplication Overflow" < ;
47           | result = mixer 10 5 10 ;
48           | cout "(10 + 5) * 10 = 150 -> Expect -106:" < ;
49           | cout result < ;
51           | cout "Test 3: Power Recursion (2^7)" < ;
52           | result = power 2 7 ;
53           | cout "2^7 = 128 -> Expect -128:" < ;
54           | cout result < ;
55           | cout "Test 4: Nested Switch" < ;
56           | check = 1 ;
58           | check 
59           | 0 
60           | cout "Error: Case 0" < ;
61           | 62           | 1 
63           | cout "Layer 1: OK" < ;
64           | val 
65           | 10 
66           | cout "Layer 2: OK (Val is 10)" < ;
67           | result = power 2 6 ;
68           | cout "2^6 = 64 (Safe):" < ;
69           | cout result < ;
70           | 71           | 72           | cout "Error: Layer 2 Default" < ;
73           | 74           | 75           | 76           | 77           | cout "Error: Layer 1 Default" < ;
78           | 79           | 81           | cout "=== HARDCORE TEST: END ===" < ;
82           | 
------------------------------------------------------------------------------
