
----------------- Поток лексем ---------------------
01 
03 tfi(si){rl;}
04 tfi(si,si){rl;}
07 tfi(ti,ti){
08 ti;
09 ti;
11 h(i){
12 al:{
13 rl;
14 }
15 d:{
16 i=ivl;
17 i=ivi(i,i);
18 ri;
19 }
20 }
21 rl;
22 }
25 tfi(ti,ti,ti){
26 ti;
27 i=(ivi)vi;
28 ri;
29 }
32 m{
33 ovl;
34 si;
35 ti;
36 ti;
37 ti;
38 ti;
40 ovl;
42 ovl;
44 i=l;
45 i=l;
47 ovl;
48 i=i(l,l,l);
49 ovl;
50 ovi;
52 ovl;
53 i=i(l,l,l);
54 ovl;
55 ovi;
57 ovl;
58 i=i(l,l);
59 ovl;
60 ovi;
62 ovl;
63 i=l;
65 h(i){
66 al:{
67 ovl;
68 }
69 al:{
70 ovl;
71 h(i){
72 al:{
73 ovl;
74 i=i(l,l);
75 ovl;
76 ovi;
77 }
78 d:{
79 ovl;
80 }
81 }
82 }
83 d:{
84 ovl;
85 }
86 }
88 ovl;
89 }


-----Таблица лексем после преобразования в ПОЛИЗ (Сырая)

----------------- Поток лексем ---------------------
01 
03 tfi(si){rl;}
04 tfi(si,si){rl;}
07 tfi(ti,ti){
08 ti;
09 ti;
11 h(i){
12 al:{
13 rl;
14 }
15 d:{
16 i=ilv;
17 i=iiiiv;
18 ri;
19 }
20 }
21 rl;
22 }
25 tfi(ti,ti,ti){
26 ti;
27 i=iiviv;
28 ri;
29 }
32 m{
33 olv;
34 si;
35 ti;
36 ti;
37 ti;
38 ti;
40 olv;
42 olv;
44 i=l;
45 i=l;
47 olv;
48 i=illl;
49 olv;
50 oiv;
52 olv;
53 i=illl;
54 olv;
55 oiv;
57 olv;
58 i=ill;
59 olv;
60 oiv;
62 olv;
63 i=l;
65 h(i){
66 al:{
67 olv;
68 }
69 al:{
70 olv;
71 h(i){
72 al:{
73 olv;
74 i=ill;
75 olv;
76 oiv;
77 }
78 d:{
79 olv;
80 }
81 }
82 }
83 d:{
84 olv;
85 }
86 }
88 olv;
89 }


----------------- Декодированная Польская запись (ПОЛИЗ) ---------------------
Номер строки | Выражение в ПОЛИЗ
------------------------------------------------------------------------------
03           | strtoint s return 0 ;
04           | stcmp s1 s2 return 0 ;
07           | power base exp 
08           | powerres ;
09           | powernextExp ;
11           | exp 
12           | 0 
13           | return 1 ;
14           | 15           | 16           | powernextExp = exp 1 - ;
17           | powerres = base power base powernextExp * ;
18           | return powerres ;
19           | 20           | 21           | return 0 ;
22           | 25           | mixer a b cc 
26           | mixerres ;
27           | mixerres = a b + cc * ;
28           | return mixerres ;
29           | 32           | 33           | cout "Привет мир!" < ;
34           | status ;
35           | val ;
36           | key ;
37           | result ;
38           | flag ;
40           | cout "=== STORAGE LANGUAGE TEST: START ===" < ;
42           | cout "New Syntax Check: [ OK ]" < ;
44           | val = 10 ;
45           | key = 2 ;
47           | cout "Test 1: Simple Overflow" < ;
48           | result = mixer 100 28 1 ;
49           | cout "100 + 28 = 128 -> Expect -128:" < ;
50           | cout result < ;
52           | cout "Test 2: Multiplication" < ;
53           | result = mixer 10 5 10 ;
54           | cout "(10 + 5) * 10 = 150 -> Expect -106:" < ;
55           | cout result < ;
57           | cout "Test 3: Recursion (2^7)" < ;
58           | result = power 2 7 ;
59           | cout "2^7 = 128 -> Expect -128:" < ;
60           | cout result < ;
62           | cout "Test 4: Nested Check (Switch)" < ;
63           | flag = 1 ;
65           | flag 
66           | 0 
67           | cout "Error: Case 0" < ;
68           | 69           | 1 
70           | cout "Layer 1: OK" < ;
71           | val 
72           | 10 
73           | cout "Layer 2: OK (Val is 10)" < ;
74           | result = power 2 6 ;
75           | cout "2^6 = 64 (Safe):" < ;
76           | cout result < ;
77           | 78           | 79           | cout "Error: Layer 2 Default" < ;
80           | 81           | 82           | 83           | 84           | cout "Error: Layer 1 Default" < ;
85           | 86           | 88           | cout "=== STORAGE LANGUAGE TEST: END ===" < ;
89           | 
------------------------------------------------------------------------------
